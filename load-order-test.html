<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Load Order Test</title>
    <style>
        body { font-family: monospace; background: #1a1a1a; color: #fff; margin: 20px; }
        .result { margin: 10px 0; padding: 10px; background: #2a2a2a; border-radius: 3px; }
        .success { color: #4CAF50; }
        .error { color: #f44336; }
        .warning { color: #FF9800; }
        .info { color: #2196F3; }
    </style>
</head>
<body>
    <h1>Ì≥ã Script Load Order Test</h1>
    <div id="results" class="result"></div>

    <script>
        const loadOrder = [];
        
        function log(message, type = 'info') {
            const results = document.getElementById('results');
            const timestamp = new Date().toLocaleTimeString();
            results.innerHTML += `<div class="${type}">[${timestamp}] ${message}</div>`;
            console.log(`[${type.toUpperCase()}] ${message}`);
            
            // Track load order
            loadOrder.push({
                time: performance.now(),
                message: message,
                type: type
            });
        }

        // Test 1: Track when this script loads
        log('Ì∫Ä Main script loaded', 'success');

        // Test 2: Check script loading status
        setTimeout(() => {
            log('Ì¥ç Checking script loading status...', 'info');

            // Check if core scripts loaded
            const scripts = [
                { name: 'AppConfig', check: typeof window.AppConfig !== 'undefined' },
                { name: 'EventBus', check: typeof EventBus !== 'undefined' },
                { name: 'FontManager', check: typeof FontManager !== 'undefined' },
                { name: 'ASCIIRenderer', check: typeof ASCIIRenderer !== 'undefined' },
                { name: 'InputValidator', check: typeof InputValidator !== 'undefined' }
            ];

            scripts.forEach(script => {
                if (script.check) {
                    log(`‚úÖ ${script.name} loaded`, 'success');
                } else {
                    log(`‚ùå ${script.name} not loaded`, 'error');
                }
            });

            // Check load order timing
            if (loadOrder.length > 1) {
                const totalTime = loadOrder[loadOrder.length - 1].time - loadOrder[0].time;
                log(`‚è±Ô∏è Total load time: ${totalTime.toFixed(2)}ms`);
            }

        }, 200);

        // Test 3: Check for initialization
        setTimeout(() => {
            log('Ì¥ç Checking initialization...', 'info');

            if (window.app) {
                log('‚úÖ Main app initialized', 'success');
            } else {
                log('‚ö†Ô∏è Main app not yet initialized', 'warning');
            }

            // Check for DOM readiness
            if (document.readyState === 'complete') {
                log('‚úÖ DOM fully loaded', 'success');
            } else {
                log(`‚ö†Ô∏è DOM state: ${document.readyState}`, 'warning');
            }

        }, 500);
    </script>
</body>
</html>
