<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Console Debug</title>
    <style>
        body { font-family: monospace; background: #1a1a1a; color: #fff; margin: 20px; }
        .result { margin: 10px 0; padding: 10px; background: #2a2a2a; border-radius: 3px; }
        .console-output { 
            background: #000; 
            color: #fff; 
            padding: 10px; 
            margin: 10px 0; 
            border-radius: 3px; 
            font-family: monospace; 
            white-space: pre; 
            max-height: 400px; 
            overflow-y: auto; 
        }
        .success { color: #4CAF50; }
        .error { color: #f44336; }
        .warning { color: #FF9800; }
        .info { color: #2196F3; }
        button { background: #2196F3; color: white; padding: 8px 16px; border: none; border-radius: 3px; cursor: pointer; margin: 5px; }
        button:hover { background: #0b7dda; }
    </style>
</head>
<body>
    <h1>Ì∞õ Console Debug Tool</h1>

    <div class="section">
        <h2>Ì≥ù Console Output Monitor</h2>
        <div id="console-output" class="console-output"></div>
        <button onclick="clearConsole()">Clear Console</button>
        <button onclick="testConsole()">Test Console</button>
    </div>

    <div class="section">
        <h2>Ì¥ç Console Analysis</h2>
        <button onclick="analyzeConsole()">Analyze Console</button>
        <div id="analysis-results" class="result"></div>
    </div>

    <script>
        const consoleMessages = [];
        let consoleStartTime = Date.now();

        // Override console methods
        const originalConsole = {
            log: console.log,
            error: console.error,
            warn: console.warn,
            info: console.info
        };

        function captureConsole(level, ...args) {
            const message = args.join(' ');
            const timestamp = Date.now() - consoleStartTime;
            
            consoleMessages.push({
                level: level,
                message: message,
                timestamp: timestamp,
                absoluteTime: new Date()
            });
            
            // Also call original
            originalConsole[level](...args);
            
            updateConsoleDisplay();
        }

        console.log = (...args) => captureConsole('log', ...args);
        console.error = (...args) => captureConsole('error', ...args);
        console.warn = (...args) => captureConsole('warn', ...args);
        console.info = (...args) => captureConsole('info', ...args);

        function updateConsoleDisplay() {
            const consoleDiv = document.getElementById('console-output');
            consoleDiv.innerHTML = consoleMessages.map(msg => 
                `<div class="${msg.level}">[${(msg.timestamp / 1000).toFixed(2)}s] ${msg.message}</div>`
            ).join('');
            consoleDiv.scrollTop = consoleDiv.scrollHeight;
        }

        function clearConsole() {
            consoleMessages.length = 0;
            updateConsoleDisplay();
        }

        function testConsole() {
            console.log('Ì∫Ä Test log message');
            console.info('‚ÑπÔ∏è Test info message');
            console.warn('‚ö†Ô∏è Test warning message');
            console.error('‚ùå Test error message');
        }

        function analyzeConsole() {
            const resultsDiv = document.getElementById('analysis-results');
            resultsDiv.innerHTML = '';

            try {
                log('analysis-results', 'Ì¥ç Analyzing console output...', 'info');

                const stats = {
                    total: consoleMessages.length,
                    log: consoleMessages.filter(m => m.level === 'log').length,
                    error: consoleMessages.filter(m => m.level === 'error').length,
                    warn: consoleMessages.filter(m => m.level === 'warn').length,
                    info: consoleMessages.filter(m => m.level === 'info').length
                };

                log('analysis-results', `ÔøΩÔøΩ Message stats: ${stats.total} total, ${stats.log} log, ${stats.error} error, ${stats.warn} warn, ${stats.info} info`);

                // Check for initialization messages
                const initMessages = consoleMessages.filter(m => 
                    m.message.includes('Initializing') || 
                    m.message.includes('initialized') || 
                    m.message.includes('ready') ||
                    m.message.includes('Core utilities') ||
                    m.message.includes('Services initialized')
                );

                if (initMessages.length > 0) {
                    log('analysis-results', `‚úÖ Found ${initMessages.length} initialization messages`, 'success');
                } else {
                    log('analysis-results', '‚ö†Ô∏è No initialization messages found', 'warning');
                }

                // Check for errors
                if (stats.error > 0) {
                    log('analysis-results', `‚ùå Found ${stats.error} error(s)`, 'error');
                } else {
                    log('analysis-results', '‚úÖ No errors detected');
                }

                // Check timing
                if (consoleMessages.length > 0) {
                    const firstMessage = consoleMessages[0];
                    const lastMessage = consoleMessages[consoleMessages.length - 1];
                    const duration = (lastMessage.timestamp - firstMessage.timestamp) / 1000;
                    log('analysis-results', `‚è±Ô∏è Console activity: ${duration.toFixed(2)}s duration`);
                }

            } catch (error) {
                log('analysis-results', `‚ùå Analysis error: ${error.message}`, 'error');
            }
        }

        function log(sectionId, message, type = 'info') {
            const resultsDiv = document.getElementById(sectionId);
            const timestamp = new Date().toLocaleTimeString();
            resultsDiv.innerHTML += `<div class="${type}">[${timestamp}] ${message}</div>`;
            console.log(`[${type.toUpperCase()}] ${message}`);
        }

        // Start monitoring
        console.log('Ì≥ù Console monitoring started');
        console.log('‚è±Ô∏è Console start time:', new Date().toLocaleTimeString());

        // Auto-analyze after delay
        setTimeout(() => {
            analyzeConsole();
        }, 1000);
    </script>
</body>
</html>
